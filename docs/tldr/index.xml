<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>TL;DR on XLabs</title><link>https://www.xlabs.club/docs/tldr/</link><description>Recent content in TL;DR on XLabs</description><generator>Hugo -- gohugo.io</generator><language>zh</language><copyright>Copyright (c) 2020-2024 XLabs Club</copyright><lastBuildDate>Sat, 09 Mar 2024 11:52:13 +0800</lastBuildDate><atom:link href="https://www.xlabs.club/docs/tldr/index.xml" rel="self" type="application/rss+xml"/><item><title>Kubernetes</title><link>https://www.xlabs.club/docs/tldr/kubernetes/</link><pubDate>Thu, 07 Sep 2023 16:04:48 +0200</pubDate><guid>https://www.xlabs.club/docs/tldr/kubernetes/</guid><description>常用 Kubernetes 命令，复制，粘贴，这就是生活。
复制 secret 到另一个 namespace。 kubectl get secret mys --namespace=na -oyaml | grep -v &amp;#39;^\s*namespace:\s&amp;#39; | kubectl apply --namespace=nb -f -批量删除 pod。 kubectl get pods --all-namespaces | grep Evicted | awk &amp;#39;{print $2 &amp;#34; --namespace=&amp;#34; $1}&amp;#39; | xargs kubectl delete pod # Delete by label kubectl delete pod -n idaas-book -l app.kubernetes.io/name=idaas-book原地重启 Pod。 kubectl rollout restart deploy/xxx -n your-namespace命令行快速扩缩容。 # kubectl scale -h kubectl scale --replicas=1 deploy/xxx -n your-namespace密钥解密。 kubectl get secret my-creds -n mysql -o jsonpath=&amp;#34;{.</description></item><item><title>Shell Coding</title><link>https://www.xlabs.club/docs/tldr/shell-coding/</link><pubDate>Sat, 09 Mar 2024 11:01:01 +0800</pubDate><guid>https://www.xlabs.club/docs/tldr/shell-coding/</guid><description>Linux Shell 日常编程实用句式速查，注意以下例子如无特殊说明都是 bash 语法。
选择执行环境。 #!/usr/bin/env bash #!/usr/bin/bash指定变量默认值，取环境变量，取不到用默认值。 rep=${ENV_YOUR_KEY:-&amp;#34;my-default-value&amp;#34;}获取当前执行脚本的绝对路径，注意直接用 $0 或 pwd 获取的可能都不要你想要的。 current_dir=$(cd `dirname $0`;pwd)为当前目录包含子目录下所有 .sh 文件增加可执行权限。 chmod +x `find . -name &amp;#39;*.sh&amp;#39;`通过 tee 将提示信息显示到终端，并同时写入到文件。 log_file=/var/log/test.log echo &amp;#34;This line will echo to console and also write to log file.&amp;#34; | tee -a ${log_file}类似于 Java properties 中 key=value 形式的字符串，取 key 和 value 的值。 username_line=&amp;#34;username=test&amp;#34; #key is username key=${username_line%=*} #val is test val=${username_line#*=}实现 String trim 效果。 #trim string by echo val_trim=$(echo -n ${val})声明和循环数组。 apps=(foo bar) for app in ${apps[@]} do echo &amp;#34;$app&amp;#34; done文件 ls 转数组 # ls 转数组，根据需要 grep arrs=($(ls helmfiles/apps | grep -v .</description></item></channel></rss>