<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>l10178 on Doks</title><link>https://www.xlabs.club/contributors/l10178/</link><description>Recent content in l10178 on Doks</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>Copyright (c) 2020-2024 Hyas</copyright><lastBuildDate>Sun, 26 Nov 2023 10:21:44 +0800</lastBuildDate><atom:link href="https://www.xlabs.club/contributors/l10178/index.xml" rel="self" type="application/rss+xml"/><item><title>重复 Transfer-Encoding Header 引起的服务 500 问题</title><link>https://www.xlabs.club/blog/%E9%87%8D%E5%A4%8D-transfer-encoding-header-%E5%BC%95%E8%B5%B7%E7%9A%84%E6%9C%8D%E5%8A%A1-500-%E9%97%AE%E9%A2%98/</link><pubDate>Sun, 26 Nov 2023 10:21:44 +0800</pubDate><guid>https://www.xlabs.club/blog/%E9%87%8D%E5%A4%8D-transfer-encoding-header-%E5%BC%95%E8%B5%B7%E7%9A%84%E6%9C%8D%E5%8A%A1-500-%E9%97%AE%E9%A2%98/</guid><description>我有一个 Spring Boot 应用服务，提供了一些简单的查询接口，本身运行很正常，通过 curl 或其他 http 客户端 localhost 请求都没有问题。
某天通过 Traefik 代理了此服务，经过代理后再访问，某个接口一直都是 500 internal server error，其他接口都没有问题。通过 tcpdump 抓包发现，应用服务并没有返回任何 500 错误，而且响应时间和 Body 体大小都很正常。</description></item><item><title>K8S 容器 PID 限制引起的 OOM</title><link>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8-pid-%E9%99%90%E5%88%B6%E5%BC%95%E8%B5%B7%E7%9A%84-oom/</link><pubDate>Thu, 07 Sep 2023 16:21:44 +0800</pubDate><guid>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8-pid-%E9%99%90%E5%88%B6%E5%BC%95%E8%B5%B7%E7%9A%84-oom/</guid><description>问题描述：
一个 Java 应用跑在 K8S 容器内，Pod 内只有 Java 这一个进程。应用跑了一段时间后，CPU、内存占用都不高，但是却出现以下 OutOfMemoryError 错误。
Exception in thread &amp;#34;slow-fetch-15&amp;#34; java.lang.OutOfMemoryError: unable to create new native thread 428 at java.</description></item><item><title>K8S 容器内 Java 进程内存分析</title><link>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8%E5%86%85-java-%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90/</link><pubDate>Sat, 07 Jan 2023 10:54:37 +0800</pubDate><guid>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8%E5%86%85-java-%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90/</guid><description>故事背景：
一个 K8S Pod，里面只有一个 Java 进程，K8S request 和 limit memory 都是 2G，Java 进程核心参数包括：-XX:+UseZGC -Xmx1024m -Xms768m -XX:SoftMaxHeapSize=512m。
服务启动一段时间后，查看 Grafana 监控数据，Pod 内存使用量约 1.</description></item><item><title>使用 Visual Studio Code 搭建多用户远程 IDE</title><link>https://www.xlabs.club/blog/%E4%BD%BF%E7%94%A8-visual-studio-code-%E6%90%AD%E5%BB%BA%E5%A4%9A%E7%94%A8%E6%88%B7%E8%BF%9C%E7%A8%8B-ide/</link><pubDate>Wed, 07 Sep 2022 16:21:44 +0800</pubDate><guid>https://www.xlabs.club/blog/%E4%BD%BF%E7%94%A8-visual-studio-code-%E6%90%AD%E5%BB%BA%E5%A4%9A%E7%94%A8%E6%88%B7%E8%BF%9C%E7%A8%8B-ide/</guid><description>为 VS Code Web 版 code-server 增加外部认证，并支持多用户，不同用户的 code-server 实例完全隔离。
主要为了解决问题：
code-server 本身只支持配置文件形式的用户名密码认证（截止目前，以后也许会改进）。所以引入了外部认证系统，Google、GitHub、 okta、CAS、Keycloak 等理论上都是支持的。
code-server 默认没有数据隔离，所以又加了一层 auth proxy，为每个用户创建一个（或多个）code-server 实例，通过 proxy 代理到各自的实例，以实现用户间的数据隔离。</description></item></channel></rss>