<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>k8s on Doks</title><link>https://www.xlabs.club/tags/k8s/</link><description>Recent content in k8s on Doks</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>Copyright (c) 2020-2024 Hyas</copyright><lastBuildDate>Thu, 07 Sep 2023 16:21:44 +0800</lastBuildDate><atom:link href="https://www.xlabs.club/tags/k8s/index.xml" rel="self" type="application/rss+xml"/><item><title>K8S 容器 PID 限制引起的 OOM</title><link>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8-pid-%E9%99%90%E5%88%B6%E5%BC%95%E8%B5%B7%E7%9A%84-oom/</link><pubDate>Thu, 07 Sep 2023 16:21:44 +0800</pubDate><guid>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8-pid-%E9%99%90%E5%88%B6%E5%BC%95%E8%B5%B7%E7%9A%84-oom/</guid><description>问题描述：
一个 Java 应用跑在 K8S 容器内，Pod 内只有 Java 这一个进程。应用跑了一段时间后，CPU、内存占用都不高，但是却出现以下 OutOfMemoryError 错误。
Exception in thread &amp;#34;slow-fetch-15&amp;#34; java.lang.OutOfMemoryError: unable to create new native thread 428 at java.</description></item><item><title>K8S 容器内 Java 进程内存分析</title><link>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8%E5%86%85-java-%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90/</link><pubDate>Sat, 07 Jan 2023 10:54:37 +0800</pubDate><guid>https://www.xlabs.club/blog/k8s-%E5%AE%B9%E5%99%A8%E5%86%85-java-%E8%BF%9B%E7%A8%8B%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90/</guid><description>故事背景：
一个 K8S Pod，里面只有一个 Java 进程，K8S request 和 limit memory 都是 2G，Java 进程核心参数包括：-XX:+UseZGC -Xmx1024m -Xms768m -XX:SoftMaxHeapSize=512m。
服务启动一段时间后，查看 Grafana 监控数据，Pod 内存使用量约 1.</description></item></channel></rss>